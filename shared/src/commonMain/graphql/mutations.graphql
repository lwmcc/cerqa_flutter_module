# GraphQL mutations for your actual Amplify schema

# Create a new user
mutation CreateUser($input: CreateUserInput!, $condition: ModelUserConditionInput) {
    createUser(input: $input, condition: $condition) {
        id
        userId
        firstName
        lastName
        name
        phone
        userName
        email
        avatarUri
        createdAt
        updatedAt
    }
}

# Update a user
mutation UpdateUser($input: UpdateUserInput!, $condition: ModelUserConditionInput) {
    updateUser(input: $input, condition: $condition) {
        id
        userId
        firstName
        lastName
        name
        phone
        userName
        email
        avatarUri
        createdAt
        updatedAt
    }
}

# Store FCM token for push notifications
mutation CreateFcmToken($input: CreateFcmTokenInput!) {
    createFcmToken(input: $input) {
        userId
        deviceId
        token
        platform
        createdAt
        updatedAt
    }
}

# Send invite notification via FCM
mutation SendInviteNotification($recipientUserId: String!, $senderName: String!, $inviteId: String!) {
    sendInviteNotification(recipientUserId: $recipientUserId, senderName: $senderName, inviteId: $inviteId) {
        success
        message
        deviceCount
    }
}

# Delete a user
mutation DeleteUser($input: DeleteUserInput!, $condition: ModelUserConditionInput) {
    deleteUser(input: $input, condition: $condition) {
        id
    }
}

# Create a UserContact (add someone to contacts)
mutation CreateUserContact($input: CreateUserContactInput!, $condition: ModelUserContactConditionInput) {
    createUserContact(input: $input, condition: $condition) {
        id
        userId
        contactId
        user {
            id
            firstName
            lastName
            name
            phone
            userName
            email
            avatarUri
        }
        contact {
            id
            firstName
            lastName
            name
            phone
            userName
            email
            avatarUri
        }
        createdAt
        updatedAt
    }
}

# Delete a UserContact (remove someone from contacts)
mutation DeleteUserContact($input: DeleteUserContactInput!) {
    deleteUserContact(input: $input) {
        id
    }
}

# Create an Invite
mutation CreateInvite($input: CreateInviteInput!, $condition: ModelInviteConditionInput) {
    createInvite(input: $input, condition: $condition) {
        id
        userId
        senderId
        receiverId
        user {
            id
            userId
            firstName
            lastName
            name
            phone
            userName
            email
            avatarUri
        }
        createdAt
        updatedAt
    }
}

mutation DeleteInvite($input: DeleteInviteInput!) {
    deleteInvite(input: $input) {
        id
    }
}

# Create a notification
mutation CreateNotification($input: CreateNotificationInput!, $condition: ModelNotificationConditionInput) {
    createNotification(input: $input, condition: $condition) {
        id
        userId
        type
        title
        message
        isRead
        relatedId
        senderUserId
        senderName
        createdAt
        updatedAt
    }
}

# Update a notification (mark as read)
mutation UpdateNotification($input: UpdateNotificationInput!, $condition: ModelNotificationConditionInput) {
    updateNotification(input: $input, condition: $condition) {
        id
        userId
        type
        title
        message
        isRead
        relatedId
        senderUserId
        senderName
        createdAt
        updatedAt
    }
}

# Delete a notification
mutation DeleteNotification($input: DeleteNotificationInput!) {
    deleteNotification(input: $input) {
        id
    }
}
